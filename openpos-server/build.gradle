apply from: 'common.gradle'

buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:1.5.7.RELEASE")
    }
}

processResources {
    from ('../openpos-client/dist/') {
        into 'public'
    }
}

dependencies {
    compile "net.java.dev.jna:jna:$jnaVersion"
    compile "net.java.dev.jna:jna-platform:$jnaVersion"
    compile group: 'org.javapos', name: 'javapos', version: '1.14.1'
    compile group: 'org.jsoup', name: 'jsoup', version: '1.10.3'
    
    compile("org.springframework.boot:spring-boot-starter-web:$springBootVersion") {
        exclude module: "spring-boot-starter-tomcat"
        exclude module: "spring-boot-starter-logging"
    }
    compile("org.springframework.boot:spring-boot-starter-jetty:$springBootVersion"){
        exclude module: "spring-boot-starter-logging"
    }
    compile("org.springframework.boot:spring-boot-starter-websocket:$springBootVersion"){
        exclude module: "spring-boot-starter-tomcat"
        exclude module: "spring-boot-starter-logging"
    }
}

processResources.dependsOn tasks.getByPath(':openpos-client:assemble')