<div fxFlexFill class="selfcheckout-sell-background" style="padding: 16px;" fxLayout="column" fxLayoutAlign="start" fxLayoutGap="16px">

	<div fxFlexFill fxFlex="0 1 auto" fxLayout="row" fxLayoutAlign="start" fxLayoutGap="16px">
		<div #scrollList fxFlex="1 1 auto" class="selfcheckout-list-background" style="overflow-y: auto; overflow-x: hidden;">

			<app-item-card *ngFor="let i of items" [item]=i [session]=session [isReadOnly]=screen.readOnly></app-item-card>

			<div *ngIf="items.length == 0 && !screen.readOnly" fxFlexFill fxLayout="column" fxLayoutAlign="center center">
				<div class="prompt text-center" style="padding: 16px;">{{this.screen.prompt}}</div>
				<div class="text-sm text-center">{{this.screen.instructions}}</div>
				<div class="scan-item-icon"></div>
			</div>
		</div>

		<mat-card class="page-content-card lighter selfcheckout-total-background scrollable-content-card">
			<mat-card-content fxFlex="1 1 100%" fxLayout="column" fxLayoutAlign="start start" fxLayoutGap="20px" class="selfcheckout-side-content">
				<div fxFlex="0 0 auto" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="20px" class="selfcheckout-total-content">
					<mat-card fxFlex="0 0 auto" *ngFor="let total of screen.totals" class="page-content-card lighter subtotal">
						<mat-card-title class="primary">{{total.name}}</mat-card-title>
						<mat-card-content>
							<p>${{total.amount}}</p>
						</mat-card-content>
					</mat-card>
					<mat-card fxFlex="0 0 auto" class="page-content-card lighter total">
						<mat-card-title> Total </mat-card-title>
						<mat-card-content>
							<p>${{screen.grandTotal}}</p>
						</mat-card-content>
					</mat-card>
					<button mat-button *ngIf="screen.promoButton" (click)="doMenuItemAction(screen.promoButton)" class="promo-button text-sm">
						<span fxFlex="1 1 auto">{{screen.promoButton.title}}</span>
						<app-icon [iconName]="screen.promoButton.icon" [iconClass]="'primary mat-24'" style="margin-top: -6px;"></app-icon>
					</button>
				</div>

				<div fxFlex="2 1 auto"></div>

				<div style="width: 100%;">
					<button mat-button *ngIf="!screen.readOnly && !screen.customer && screen.loyaltyButton" (click)="doMenuItemAction(screen.loyaltyButton)" class="loyalty-button text-md">
						<span style="padding-right: 8px;">{{screen.loyaltyButton.title}}</span>
						<app-icon [iconName]="screen.loyaltyButton.icon" class="loyalty-button-icon"></app-icon>
						<span style="padding-left: 8px;">ID</span>
					</button>
					<div *ngIf="screen.customer && screen.loyaltyButton" class="text-sm text-center" style="padding-top: 16px;">
						<app-icon [iconName]="screen.loyaltyButton.icon" class="loyalty-icon"></app-icon>
						<div class="muted-color" style="padding-top: 8px;">{{screen.customer.name}}</div>
						<div class="muted-color" style="padding-top: 8px;">Rewards ID: {{screen.customer.loyaltyId}}</div>
					</div>
					<button mat-button *ngIf="!screen.readOnly" [disabled]="!screen.transaction.active || items.length == 0" (click)="session.onAction('Checkout')"
					 color="primary-inverse" class="checkout-button text-lg">Checkout
					</button>
					<button mat-button *ngIf="!screen.readOnly" (click)="doMenuItemAction(screen.logoutButton)" class="border-button text-lg">
						<span>
							<app-icon *ngIf="screen.logoutButton.icon" [iconName]="screen.logoutButton.icon"></app-icon>
							{{screen.logoutButton.title}}
						</span>
					</button>
				</div>
			</mat-card-content>
		</mat-card>
	</div>
</div>