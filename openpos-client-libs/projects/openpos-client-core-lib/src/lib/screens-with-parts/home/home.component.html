<div id="player" style="position: fixed; z-index: -99; width: 100%; height: 100%">
</div>

<script>

// 2. This code loads the IFrame Player API code asynchronously.
var tag = document.createElement('script');

tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

// 3. This function creates an <iframe> (and YouTube player)
//    after the API code downloads.
var player;
function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    height: '100%',
    width: '100%',
    videoId: 'vU-_8DkZDWo',
    playerVars: {
        autoplay: 1,        // Auto-play the video on load
  autohide: 1,
  disablekb: 1, 
  controls: 0,        // Hide pause/play buttons in player
  showinfo: 0,        // Hide the video title
  modestbranding: 1,  // Hide the Youtube Logo
  loop: 1,            // Run the video in a loop
  fs: 0,              // Hide the full screen button
  autohide: 0,         // Hide video controls when playing
  rel: 0,
  enablejsapi: 1,
  theme: 'light',
  rel: 0

    },
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }

  });
}

// 4. The API will call this function when the video player is ready.
function onPlayerReady(event) {
  player.mute();
  event.target.playVideo();
}

// 5. The API calls this function when the player's state changes.
//    The function indicates that when playing a video (state=1),
//    the player should play for six seconds and then stop.
var done = false;
function onPlayerStateChange(event) {
    console.log('player state change: ' + event.data);
  if (event.data == YT.PlayerState.PLAYING && !done) {
    setTimeout(stopVideo, 6000);

    done = true;
  } else if (event.data == YT.PlayerState.ENDED) {
        player.mute();
        player.playVideo();
  }

}
function stopVideo() {
//   player.stopVideo();
}
</script>


  <!-- <div [ngStyle]="screen.backgroundImage | backgroundImageUrl" class="home-wrapper"> -->
    <div class="home-wrapper">

        <app-basic-bacon-strip *ngIf="screen.hasOwnProperty('basicBaconStrip')"></app-basic-bacon-strip>
        <app-bacon-strip *ngIf="screen.hasOwnProperty('baconStrip')"></app-bacon-strip>
        <div *ngIf="!(isMobile | async) && screen.menuItems.length > 0" class="body-container">

            <div responsive-class class="button-grid">
                <div responsive-class class="menu-button-border"
                     *ngFor="let menuItem of screen.menuItems"
                     [matBadge]="getNotificationForButton(menuItem)?.value"
                     matBadgePosition="above after"
                     [matBadgeSize]="(badgeSize | async)"
                     matBadgeColor="accent"
                     [matBadgeHidden]="!getNotificationForButton(menuItem)"
                     [@bounce]="getNotificationForButton(menuItem)? (bounceInterval | async) : 'down'">
                    <button responsive-class class="menu-button" mat-raised-button
                            gdAuto="column" color=primary [disabled]="!menuItem.enabled"
                            (click)="doAction(menuItem)" [actionItem]="menuItem">
                        <div class="menu-button-content">
                            <app-icon iconName="{{menuItem.icon}}" [iconClass]="(iconClass | async)"></app-icon>
                            <div class="menu-button-title">{{menuItem.title}}</div>
                            <div *ngIf="menuItem.keybind && keybindsEnabled()" style="padding-bottom: 8px;" class="text-xs">{{menuItem.keybind}}</div>
                        </div>
                    </button>
                </div>
            </div>
            <app-notifications *ngIf="!!screen['notifications']" class="notifications"></app-notifications>
        </div>
    
        <div *ngIf="(isMobile | async) && screen.menuItems.length > 0" class="menu-list" appArrowTab>
            <app-option-button *ngFor="let o of screen.menuItems; let i = index" 
                appArrowTabItem
                [attr.tabindex]="i"
                [disabled]="!o.enabled"
                [optionTitle]="o.title" 
                [optionIcon]="o.icon" 
                [optionSize]="'md'"
                (click)="doAction(o)">
                <span *ngIf="getNotificationForButton(o)"
                    [matBadge]="getNotificationForButton(o).value"
                    matBadgePosition="above after"
                    matBadgeSize="medium"
                    matBadgeColor="accent" class="notification-badge"></span>
            </app-option-button>
        </div>
        <div class="status-strip-container">
            <app-status-strip *ngIf="screen.statusStrip"></app-status-strip>
        </div>
    </div>