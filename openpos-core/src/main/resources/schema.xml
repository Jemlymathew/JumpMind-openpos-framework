<?xml version="1.0"?>
<!--

    Licensed to JumpMind Inc under one or more contributor
    license agreements.  See the NOTICE file distributed
    with this work for additional information regarding
    copyright ownership.  JumpMind Inc licenses this file
    to you under the GNU General Public License, version 3.0 (GPLv3)
    (the "License"); you may not use this file except in compliance
    with the License.

    You should have received a copy of the GNU General Public License,
    version 3.0 (GPLv3) along with this library; if not, see
    <http://www.gnu.org/licenses/>.

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<!DOCTYPE database SYSTEM "database.dtd">

<database name="openpos">
    <table name="pa_opr" description="Operator:Security Identifier granting and denying access to the systems of the retail enterprise, and recorded upon the transaction originating from those systems">
        <column name="id_opr" type="CHAR" size="16" required="true" primaryKey="true" description="A unique, automatically assigned number used to identify a Workstation Operator." />
        <column name="pw_acs_opr" type="CHAR" size="64" description="A hashed security password entered by an operator and used to verify his/her identity when signing on to a Workstation." />
        <column name="nm_usr" type="VARCHAR" size="40" description="The short human readable name used as an alternate ID for Operator. " />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
    </table>
    <table name="do_qn_scty_hnt" description="SecurityHintQuestion:A question that is put ot the Customer or Operator when they have forgotten their Password and the system is trying to verify their identity">
        <column name="id_scty_qn" type="CHAR" size="16" required="true" primaryKey="true" description="A unique system assigned identifier for a question that is put to the Customer or Operator when they have forgotten their Password and the system is trying to verify their identity" />
        <column name="de_qn" type="VARCHAR" size="255" description="A question that is put to a Customer or Operator when they have forgotten their Password and the system is trying to verify their identity and allow a new Password to be set" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
    </table>
    <table name="co_scty_hnt_opr" description="OperatorSecurityHint:A record of the Operator's answer to a security hint question that is put to the Operator when they have forgotten their Password and the system is trying to verify their identity and allow a new Password to be set">
        <column name="id_opr" type="CHAR" size="16" required="true" primaryKey="true" description="A unique, automatically assigned number used to identify a workstation OPERATOR." />
        <column name="id_scty_qn" type="CHAR" size="16" required="true" primaryKey="true" description="A unique system assigned identifier for a question that is put to the Customer or Operator when they have forgotten their Password and the system is trying to verify their identity" />
        <column name="ai_opr_scty_hnt" type="INTEGER" required="true" primaryKey="true" description="A unique system assigned sequence number for each successive OperatorSecurityHint answer chosen by the Operator." />
        <column name="de_ans" type="VARCHAR" size="255" description="A record of the Operator's answer to the indicated SecurityHintQuestion." />
        <column name="dc_ef" type="TIMESTAMP" description="The date and time at which this OperatorSecurityHint was chosen by the Operator." />
        <column name="dc_ep" type="TIMESTAMP" description="The date and time at which this OperatorSecurityHint ceases to be valie because a new SecurityHint has been chosen." />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="pa_opr" name="fk_co_scty_hnt_opr_2_pa_opr">
            <reference local="id_opr" foreign="id_opr" />
        </foreign-key>    
        <foreign-key foreignTable="do_qn_scty_hnt" name="fk_co_scty_hnt_opr_2_do_qn_scty_hnt">
            <reference local="id_opr" foreign="id_opr" />
        </foreign-key>                
    </table>
    <table name="co_acs_pswd" description="AccessPassword:A secret term which is used to authenticate an Operator identification and thereby permits the Operator to access specific Resources and Workstation within the enterprise.">
        <column name="id_opr" type="CHAR" size="16" required="true" primaryKey="true" description="A unique, automatically assigned number used to identify a workstation OPERATOR." />
        <column name="ai_acs_pswd" type="INTEGER" required="true" primaryKey="true" description="A unique system assigned sequence number for each successive AccessPassword chosen by the Operator." />
        <column name="ps_acs_opr" type="VARCHAR" size="64" description="The password which permits the Operator to access specific Resources and Workstation within the enterprise." />
        <column name="ts_ep" type="TIMESTAMP" description="The date and time afterwhich this AccessPassword can no longer be used to sign on." />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="pa_opr" name="fk_co_acs_pswd_2_pa_opr">
            <reference local="id_opr" foreign="id_opr" />
        </foreign-key>            
    </table>    
</database>
